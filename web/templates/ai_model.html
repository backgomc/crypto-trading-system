<!-- ÌååÏùº Í≤ΩÎ°ú: web/templates/ai_model.html -->
<!-- ÏΩîÎìúÎ™Ö: AI Î™®Îç∏ Í¥ÄÎ¶¨ ÌéòÏù¥ÏßÄ ÌÖúÌîåÎ¶ø (ÏÉà ÏßÄÌëú Ï∂îÍ∞Ä Î≤ÑÏ†Ñ) -->

{% extends "base.html" %}

{% block title %}NHBot - AI Î™®Îç∏ Í¥ÄÎ¶¨{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/ai_model.css') }}">
{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- ÌéòÏù¥ÏßÄ Ìó§Îçî -->
    <div class="d-flex justify-content-between align-items-center mb-4 page-header">
        <h2 class="mb-0">
            <i class="bi bi-cpu me-2"></i>AI Î™®Îç∏ Í¥ÄÎ¶¨
        </h2>
        <div class="current-time">
            <i class="bi bi-clock me-1"></i>
            <span id="currentTime"></span>
        </div>
    </div>

    <div class="row">
        <!-- Ï¢åÏ∏°: ÌïôÏäµ ÏÑ§Ï†ï Î∞è Ïã§Ìñâ -->
        <div class="col-lg-8 mb-4">
            <!-- ÌïôÏäµ ÏßÄÌëú ÏÑ†ÌÉù (Í∞úÏÑ†Îêú UI) -->
            <div class="card main-card mb-4">
                <div class="card-header">
                    <h5>
                        <i class="bi bi-graph-up me-2"></i>ÌïôÏäµ ÏßÄÌëú ÏÑ†ÌÉù
                        <span class="badge bg-primary ms-2" id="totalSelectedCount">0Í∞ú ÏÑ†ÌÉù</span>
                    </h5>
                </div>
                <div class="card-body">
                    <!-- ÌïµÏã¨ ÏßÄÌëú ÏÑπÏÖò (ÏÑ†ÌÉù Í∞ÄÎä•ÌïòÍ≤å Î≥ÄÍ≤Ω) -->
                    <div class="indicator-section mb-4">
                        <h6 class="section-title">
                            <i class="bi bi-star-fill text-warning me-2"></i>ÌïµÏã¨ ÏßÄÌëú
                            <small class="text-muted ms-2">(ÏõêÏõ®Ïù¥ Ïû• ÎåÄÏùë ÌäπÌôî)</small>
                            <span class="badge bg-info float-end" id="essentialIndicatorCount">0Í∞ú ÏÑ†ÌÉù</span>
                        </h6>
                        <div class="essential-indicators-grid">
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_price" checked class="form-check-input indicator-checkbox" data-indicator="price">
                                    <label class="indicator-name" for="indicator_price">Í∞ÄÍ≤© Îç∞Ïù¥ÌÑ∞</label>
                                    <span class="indicator-badge">3</span>
                                </div>
                                <small class="indicator-desc">Ï¢ÖÍ∞Ä, Î≥ÄÌôîÏú®, Í≥†Ï†ÄÎ≤îÏúÑ</small>
                            </div>
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_macd" checked class="form-check-input indicator-checkbox" data-indicator="macd">
                                    <label class="indicator-name" for="indicator_macd">MACD</label>
                                    <span class="indicator-badge">3</span>
                                </div>
                                <small class="indicator-desc">MACD, ÏãúÍ∑∏ÎÑê, ÌûàÏä§ÌÜ†Í∑∏Îû®</small>
                            </div>
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_rsi" checked class="form-check-input indicator-checkbox" data-indicator="rsi">
                                    <label class="indicator-name" for="indicator_rsi">RSI</label>
                                    <span class="indicator-badge">1</span>
                                </div>
                                <small class="indicator-desc">14Ïùº RSI</small>
                            </div>
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_bb" checked class="form-check-input indicator-checkbox" data-indicator="bb">
                                    <label class="indicator-name" for="indicator_bb">Î≥ºÎ¶∞Ï†ÄÎ∞¥Îìú</label>
                                    <span class="indicator-badge">2</span>
                                </div>
                                <small class="indicator-desc">ÏúÑÏπò, Ìè≠</small>
                            </div>
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_atr" checked class="form-check-input indicator-checkbox" data-indicator="atr">
                                    <label class="indicator-name" for="indicator_atr">ATR</label>
                                    <span class="indicator-badge">1</span>
                                </div>
                                <small class="indicator-desc">ÌèâÍ∑† Ïã§Ï†ú Î≤îÏúÑ</small>
                            </div>
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_volume" checked class="form-check-input indicator-checkbox" data-indicator="volume">
                                    <label class="indicator-name" for="indicator_volume">Í±∞ÎûòÎüâ</label>
                                    <span class="indicator-badge">3</span>
                                </div>
                                <small class="indicator-desc">ÎπÑÏú®, CVD, CVD Í∏∞Ïö∏Í∏∞</small>
                            </div>
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_adx" checked class="form-check-input indicator-checkbox" data-indicator="adx">
                                    <label class="indicator-name" for="indicator_adx">ADX</label>
                                    <span class="indicator-badge">2</span>
                                </div>
                                <small class="indicator-desc">Ï∂îÏÑ∏Í∞ïÎèÑ, Í∏∞Ïö∏Í∏∞</small>
                            </div>
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_aroon" checked class="form-check-input indicator-checkbox" data-indicator="aroon">
                                    <label class="indicator-name" for="indicator_aroon">Aroon</label>
                                    <span class="indicator-badge">1</span>
                                </div>
                                <small class="indicator-desc">Ï∂îÏÑ∏ Ï†ÑÌôò ÌÉÄÏù¥Î∞ç</small>
                            </div>
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_consecutive" checked class="form-check-input indicator-checkbox" data-indicator="consecutive">
                                    <label class="indicator-name" for="indicator_consecutive">Ïó∞ÏÜç Ïπ¥Ïö¥ÌÑ∞</label>
                                    <span class="indicator-badge">2</span>
                                </div>
                                <small class="indicator-desc">Ïó∞ÏÜç ÏÉÅÏäπ/ÌïòÎùΩ</small>
                            </div>
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_trend" checked class="form-check-input indicator-checkbox" data-indicator="trend">
                                    <label class="indicator-name" for="indicator_trend">Îã§Ï§ë ÏãúÍ∞ÑÎåÄ</label>
                                    <span class="indicator-badge">4</span>
                                </div>
                                <small class="indicator-desc">1H, 4H Ï∂îÏÑ∏, Ï†ïÎ†¨ÎèÑ</small>
                            </div>
                            <!-- üÜï ÌïµÏã¨ ÏßÄÌëúÎ°ú Ïù¥ÎèôÎêú Ï§ëÏöî ÏßÄÌëúÎì§ -->
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_hhll" checked class="form-check-input indicator-checkbox" data-indicator="hhll">
                                    <label class="indicator-name" for="indicator_hhll">HH/LL Ïπ¥Ïö¥ÌÑ∞ ‚≠ê</label>
                                    <span class="indicator-badge">3</span>
                                </div>
                                <small class="indicator-desc">Í≥†Ï†ê/Ï†ÄÏ†ê Í∞±Ïã† Ï∂îÏ†Å</small>
                            </div>
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_zscore" checked class="form-check-input indicator-checkbox" data-indicator="zscore">
                                    <label class="indicator-name" for="indicator_zscore">Z-score ‚≠ê</label>
                                    <span class="indicator-badge">2</span>
                                </div>
                                <small class="indicator-desc">ÌèâÍ∑† ÌöåÍ∑Ä ÏßÄÌëú</small>
                            </div>
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_market_structure" checked class="form-check-input indicator-checkbox" data-indicator="market_structure">
                                    <label class="indicator-name" for="indicator_market_structure">Market Structure ‚≠ê</label>
                                    <span class="indicator-badge">2</span>
                                </div>
                                <small class="indicator-desc">ÏãúÏû• Íµ¨Ï°∞ ÎèåÌåå</small>
                            </div>
                            <div class="indicator-card essential">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_trend_strength" checked class="form-check-input indicator-checkbox" data-indicator="trend_strength">
                                    <label class="indicator-name" for="indicator_trend_strength">Ï∂îÏÑ∏ Í∞ïÎèÑ Ï†êÏàò ‚≠ê</label>
                                    <span class="indicator-badge">1</span>
                                </div>
                                <small class="indicator-desc">Ï¢ÖÌï© Ï∂îÏÑ∏ Ï†êÏàò</small>
                            </div>
                        </div>
                    </div>

                    <!-- ÏÑ†ÌÉùÏ†Å ÏßÄÌëú ÏÑπÏÖò -->
                    <div class="indicator-section mb-4">
                        <h6 class="section-title">
                            <i class="bi bi-plus-circle me-2"></i>ÏÑ†ÌÉùÏ†Å ÏßÄÌëú
                            <small class="text-muted ms-2">(ÌïÑÏöîÏãú Ï∂îÍ∞Ä)</small>
                            <span class="badge bg-info float-end" id="optionalIndicatorCount">0Í∞ú ÏÑ†ÌÉù</span>
                        </h6>
                        <div class="optional-indicators-grid">
                            <div class="indicator-card optional">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_sma" class="form-check-input indicator-checkbox" data-indicator="sma">
                                    <label class="indicator-name" for="indicator_sma">SMA</label>
                                    <span class="indicator-badge">2</span>
                                </div>
                                <small class="indicator-desc">Îã®ÏàúÏù¥ÎèôÌèâÍ∑†</small>
                            </div>
                            <div class="indicator-card optional">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_ema" class="form-check-input indicator-checkbox" data-indicator="ema">
                                    <label class="indicator-name" for="indicator_ema">EMA</label>
                                    <span class="indicator-badge">3</span>
                                </div>
                                <small class="indicator-desc">ÏßÄÏàòÏù¥ÎèôÌèâÍ∑†</small>
                            </div>
                            <div class="indicator-card optional">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_stoch" class="form-check-input indicator-checkbox" data-indicator="stoch">
                                    <label class="indicator-name" for="indicator_stoch">Ïä§ÌÜ†Ï∫êÏä§Ìã±</label>
                                    <span class="indicator-badge">2</span>
                                </div>
                                <small class="indicator-desc">K%, D%</small>
                            </div>
                            <div class="indicator-card optional">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_williams" class="form-check-input indicator-checkbox" data-indicator="williams">
                                    <label class="indicator-name" for="indicator_williams">Williams %R</label>
                                    <span class="indicator-badge">1</span>
                                </div>
                                <small class="indicator-desc">Î™®Î©òÌÖÄ ÏßÄÌëú</small>
                            </div>
                            <div class="indicator-card optional">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_mfi" class="form-check-input indicator-checkbox" data-indicator="mfi">
                                    <label class="indicator-name" for="indicator_mfi">MFI</label>
                                    <span class="indicator-badge">1</span>
                                </div>
                                <small class="indicator-desc">ÏûêÍ∏àÌùêÎ¶ÑÏßÄÌëú</small>
                            </div>
                            <div class="indicator-card optional">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_vwap" class="form-check-input indicator-checkbox" data-indicator="vwap">
                                    <label class="indicator-name" for="indicator_vwap">VWAP</label>
                                    <span class="indicator-badge">1</span>
                                </div>
                                <small class="indicator-desc">Í±∞ÎûòÎüâÍ∞ÄÏ§ëÌèâÍ∑†</small>
                            </div>
                            <div class="indicator-card optional">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_volatility" class="form-check-input indicator-checkbox" data-indicator="volatility">
                                    <label class="indicator-name" for="indicator_volatility">Î≥ÄÎèôÏÑ±</label>
                                    <span class="indicator-badge">1</span>
                                </div>
                                <small class="indicator-desc">20Ïùº Î≥ÄÎèôÏÑ±</small>
                            </div>
                        </div>
                    </div>

                    <!-- üÜï Í≥†Í∏â ÏßÄÌëú ÏÑπÏÖò (ÏÉàÎ°ú Ï∂îÍ∞Ä) -->
                    <div class="indicator-section">
                        <h6 class="section-title">
                            <i class="bi bi-lightning-fill text-danger me-2"></i>Í≥†Í∏â ÏßÄÌëú
                            <small class="text-muted ms-2">(Í≥†Í∏â Ï†ÑÎûµÏö©)</small>
                            <span class="badge bg-info float-end" id="advancedIndicatorCount">0Í∞ú ÏÑ†ÌÉù</span>
                        </h6>
                        <div class="advanced-indicators-grid">
                            <!-- Ï±ÑÎÑê ÏßÄÌëú -->
                            <div class="indicator-card advanced">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_keltner" class="form-check-input indicator-checkbox" data-indicator="keltner">
                                    <label class="indicator-name" for="indicator_keltner">Keltner Channel</label>
                                    <span class="indicator-badge">4</span>
                                </div>
                                <small class="indicator-desc">Î≥ºÎ¶∞Ï†ÄÎ∞¥Îìú ÎåÄÏïà</small>
                            </div>
                            <div class="indicator-card advanced">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_donchian" class="form-check-input indicator-checkbox" data-indicator="donchian">
                                    <label class="indicator-name" for="indicator_donchian">Donchian Channel</label>
                                    <span class="indicator-badge">4</span>
                                </div>
                                <small class="indicator-desc">Í≥†Ï†ê/Ï†ÄÏ†ê ÎèåÌåå</small>
                            </div>
                            
                            <!-- Í±∞ÎûòÎüâ Í≥†Í∏â ÏßÄÌëú -->
                            <div class="indicator-card advanced">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_vpoc" class="form-check-input indicator-checkbox" data-indicator="vpoc">
                                    <label class="indicator-name" for="indicator_vpoc">VPOC</label>
                                    <span class="indicator-badge">2</span>
                                </div>
                                <small class="indicator-desc">Í∞ÄÍ≤©ÎåÄÎ≥Ñ Í±∞ÎûòÎüâ</small>
                            </div>
                            <div class="indicator-card advanced">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_order_flow" class="form-check-input indicator-checkbox" data-indicator="order_flow">
                                    <label class="indicator-name" for="indicator_order_flow">Order Flow</label>
                                    <span class="indicator-badge">1</span>
                                </div>
                                <small class="indicator-desc">Ï£ºÎ¨∏ ÌîåÎ°úÏö∞ Î∂àÍ∑†Ìòï</small>
                            </div>
                            
                            <!-- Í∞ÄÍ≤© Íµ¨Ï°∞ ÏßÄÌëú -->
                            <div class="indicator-card advanced">
                                <div class="indicator-header">
                                    <input type="checkbox" id="indicator_pivot" class="form-check-input indicator-checkbox" data-indicator="pivot">
                                    <label class="indicator-name" for="indicator_pivot">Pivot Points</label>
                                    <span class="indicator-badge">4</span>
                                </div>
                                <small class="indicator-desc">ÌîºÎ¥á ÏßÄÏßÄ/Ï†ÄÌï≠</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÌïôÏäµ ÌååÎùºÎØ∏ÌÑ∞ ÏÑ§Ï†ï -->
            <div class="card main-card mb-4">
                <div class="card-header">
                    <h5>
                        <i class="bi bi-sliders me-2"></i>ÌïôÏäµ ÌååÎùºÎØ∏ÌÑ∞ ÏÑ§Ï†ï
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label fw-medium">ÌïôÏäµ Îç∞Ïù¥ÌÑ∞ Í∏∞Í∞Ñ</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="trainingDays" value="365" min="30" max="1095">
                                <span class="input-group-text">Ïùº</span>
                            </div>
                            <div class="form-text">Í≥ºÍ±∞ Î™á ÏùºÍ∞ÑÏùò Îç∞Ïù¥ÌÑ∞Î°ú ÌïôÏäµÌï†ÏßÄ ÏÑ§Ï†ï</div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label class="form-label fw-medium">ÏóêÌè≠ (Epochs)</label>
                            <input type="number" class="form-control" id="epochs" value="100" min="10" max="1000">
                            <div class="form-text">Î™®Îç∏ ÌïôÏäµ Î∞òÎ≥µ ÌöüÏàò</div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label fw-medium">Î∞∞Ïπò ÌÅ¨Í∏∞ (Batch Size)</label>
                            <input type="number" class="form-control" id="batchSize" value="32" min="8" max="128">
                            <div class="form-text">Ìïú Î≤àÏóê Ï≤òÎ¶¨Ìï† Îç∞Ïù¥ÌÑ∞ Í∞úÏàò</div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label class="form-label fw-medium">ÌïôÏäµÎ•† (Learning Rate)</label>
                            <input type="number" class="form-control" id="learningRate" value="0.001" min="0.0001" max="0.1" step="0.0001">
                            <div class="form-text">Î™®Îç∏ Í∞ÄÏ§ëÏπò ÏóÖÎç∞Ïù¥Ìä∏ ÏÜçÎèÑ</div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label fw-medium">ÏãúÌÄÄÏä§ Í∏∏Ïù¥</label>
                            <input type="number" class="form-control" id="sequenceLength" value="60" min="10" max="200">
                            <div class="form-text">ÏòàÏ∏°Ïóê ÏÇ¨Ïö©Ìï† Í≥ºÍ±∞ Îç∞Ïù¥ÌÑ∞ Í∞úÏàò (Î∂Ñ)</div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label class="form-label fw-medium">Í≤ÄÏ¶ù ÎπÑÏú®</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="validationSplit" value="20" min="10" max="30">
                                <span class="input-group-text">%</span>
                            </div>
                            <div class="form-text">Í≤ÄÏ¶ùÏö©ÏúºÎ°ú ÏÇ¨Ïö©Ìï† Îç∞Ïù¥ÌÑ∞ ÎπÑÏú®</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÌïôÏäµ Ïã§Ìñâ Î∞è Î™®ÎãàÌÑ∞ÎßÅ -->
            <div class="card main-card">
                <div class="card-header">
                    <h5>
                        <i class="bi bi-play-circle me-2"></i>ÌïôÏäµ Ïã§Ìñâ Î∞è Î™®ÎãàÌÑ∞ÎßÅ
                    </h5>
                </div>
                <div class="card-body">
                    <!-- ÌïôÏäµ Ï†úÏñ¥ Î≤ÑÌäº -->
                    <div class="row mb-4">
                        <div class="col-md-8">
                            <div class="d-flex gap-2">
                                <button class="btn btn-success" id="startTrainingBtn">
                                    <i class="bi bi-play-fill me-1"></i>ÌïôÏäµ ÏãúÏûë
                                </button>
                                <button class="btn btn-danger" id="stopTrainingBtn" disabled>
                                    <i class="bi bi-stop-fill me-1"></i>ÌïôÏäµ Ï§ëÏßÄ
                                </button>
                                <button class="btn btn-outline-secondary" id="resetParametersBtn">
                                    <i class="bi bi-arrow-clockwise me-1"></i>Í∏∞Î≥∏Í∞í Î≥µÏõê
                                </button>
                            </div>
                        </div>
                        <div class="col-md-4 text-end">
                            <div class="training-status">
                                <span class="badge bg-secondary" id="trainingStatus">ÎåÄÍ∏∞ Ï§ë</span>
                            </div>
                        </div>
                    </div>

                    <!-- ÌïôÏäµ ÏßÑÌñâÎ•† -->
                    <div id="trainingProgress" style="display: none;">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label fw-medium">Ï†ÑÏ≤¥ ÏßÑÌñâÎ•†</label>
                                <div class="progress mb-2" style="height: 25px;">
                                    <div class="progress-bar progress-bar-striped progress-bar-animated" 
                                         id="overallProgress" role="progressbar" style="width: 0%"></div>
                                </div>
                                <small class="text-muted" id="progressText">0/100 ÏóêÌè≠</small>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-medium">ÌòÑÏû¨ ÏóêÌè≠ ÏßÑÌñâÎ•†</label>
                                <div class="progress mb-2" style="height: 25px;">
                                    <div class="progress-bar bg-info progress-bar-striped progress-bar-animated" 
                                         id="epochProgress" role="progressbar" style="width: 0%"></div>
                                </div>
                                <small class="text-muted" id="epochText">0/100 Î∞∞Ïπò</small>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="training-info">
                                    <div class="info-item">
                                        <span class="label">ÏãúÏûë ÏãúÍ∞Ñ:</span>
                                        <span id="startTime">-</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="label">Í≤ΩÍ≥º ÏãúÍ∞Ñ:</span>
                                        <span id="elapsedTime">00:00:00</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="label">ÏòàÏÉÅ ÏôÑÎ£å:</span>
                                        <span id="estimatedTime">-</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="training-metrics">
                                    <div class="metric-item">
                                        <span class="label">Loss:</span>
                                        <span id="currentLoss" class="value">-</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="label">Accuracy:</span>
                                        <span id="currentAccuracy" class="value">-</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="label">Val Loss:</span>
                                        <span id="valLoss" class="value">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ïö∞Ï∏°: Î™®Îç∏ ÌûàÏä§ÌÜ†Î¶¨ Î∞è Í¥ÄÎ¶¨ -->
        <div class="col-lg-4">
            <!-- ÌòÑÏû¨ ÌôúÏÑ± Î™®Îç∏ -->
            <div class="card main-card mb-4">
                <div class="card-header">
                    <h5>
                        <i class="bi bi-star me-2"></i>ÌòÑÏû¨ ÌôúÏÑ± Î™®Îç∏
                    </h5>
                </div>
                <div class="card-body">
                    <div class="active-model-info">
                        <div class="model-name">
                            <strong id="activeModelName">Î™®Îç∏ ÏóÜÏùå</strong>
                        </div>
                        <div class="model-stats">
                            <div class="stat-item">
                                <span class="label">Ï†ïÌôïÎèÑ:</span>
                                <span class="value text-success" id="activeModelAccuracy">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="label">ÌïôÏäµÏùº:</span>
                                <span class="value" id="activeModelDate">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="label">ÏÉÅÌÉú:</span>
                                <span id="activeModelBadge" class="badge bg-secondary">ÎπÑÌôúÏÑ±</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Î™®Îç∏ ÌûàÏä§ÌÜ†Î¶¨ -->
            <div class="card main-card mb-4">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">
                        <i class="bi bi-clock-history me-2"></i>Î™®Îç∏ ÌûàÏä§ÌÜ†Î¶¨
                    </h5>
                    <button class="btn btn-outline-danger btn-sm" id="cleanupModelsBtn">
                        <i class="bi bi-trash me-1"></i>Ï†ïÎ¶¨
                    </button>
                </div>
                <div class="card-body p-0">
                    <div class="model-list">
                        <!-- JavaScriptÎ°ú ÎèôÏ†Å ÏÉùÏÑ± -->
                    </div>
                </div>
            </div>

            <!-- ÏûêÎèô ÌïôÏäµ Ïä§ÏºÄÏ§ÑÎü¨ -->
            <div class="card main-card">
                <div class="card-header">
                    <h5>
                        <i class="bi bi-calendar-event me-2"></i>ÏûêÎèô ÌïôÏäµ Ïä§ÏºÄÏ§ÑÎü¨
                    </h5>
                </div>
                <div class="card-body">
                    <div class="form-check form-switch mb-3">
                        <input class="form-check-input" type="checkbox" id="autoRetraining" checked>
                        <label class="form-check-label fw-medium" for="autoRetraining">
                            ÏûêÎèô Ïû¨ÌïôÏäµ ÌôúÏÑ±Ìôî
                        </label>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label fw-medium">Ïû¨ÌïôÏäµ Í∞ÑÍ≤©</label>
                        <select class="form-select" id="retrainingInterval">
                            <option value="86400">Îß§Ïùº (24ÏãúÍ∞Ñ)</option>
                            <option value="172800">2ÏùºÎßàÎã§</option>
                            <option value="604800">Îß§Ï£º (7Ïùº)</option>
                            <option value="1209600">2Ï£ºÎßàÎã§</option>
                        </select>
                    </div>
                    
                    <div class="next-training">
                        <small class="text-muted">Îã§Ïùå ÏûêÎèô ÌïôÏäµ: </small>
                        <small id="nextTraining">-</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ÌÜ†Ïä§Ìä∏ Ïª®ÌÖåÏù¥ÎÑà -->
<div id="toastContainer"></div>

{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/ai_model.js') }}"></script>
{% endblock %}